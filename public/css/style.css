/********** Template CSS **********/
/* Paleta base (modo claro por defecto) */
:root, .theme-light {
    --primary: #2E7D32;
    --primary-2: #43A047;
    --primary-contrast: #0E172A;
    /* Paleta clara con azules/lilas pastel (no verdosa) */
    --bg: #DFF7FF;
    --surface: #F6FAFF;
    --text: #0F172A;
    --muted: #51627A;
    --border: #D6E2EE;
    --sidebar-bg: linear-gradient(180deg, #E3E7FF 0%, #DFF7FF 100%);
    --sidebar-text: #0F172A;
    --sidebar-hover-bg: rgba(79,141,247,0.10);
    --navbar-bg: #EAF7FF;
    /* acentos (iconos en claro, no verdes) */
    --accent: #4F8DF7;
    --accent-2: #5ED3F3;
    /* neon (claro) */
    --neon-1: #4F8DF7; /* azul */
    --neon-2: #5ED3F3; /* celeste */
    --neon-3: #E6F2FF; /* blanco azulado */
    --neon-glow: rgba(79,141,247,0.45);
    /* overlays para fondos con azules */
    --bg-overlay-1: radial-gradient(1000px 500px at -10% -10%, rgba(79,141,247,0.12), rgba(79,141,247,0) 50%);
    --bg-overlay-2: radial-gradient(1200px 600px at 110% 110%, rgba(94,211,243,0.10), rgba(94,211,243,0) 60%);
    /* controles */
    --control-bg: #F3F7FF;
    --control-border: #D6E2EE;
    --control-placeholder: #73849B;
    /* tablas */
    --table-bg: #F5F8FF;
    --table-border: #D6E2EE;
    --table-head: #E6ECFF;
    --table-head-text: #0F172A;
    --table-hover: rgba(79,141,247,0.08);
    --table-stripe: rgba(15,23,42,0.04);
    /* tilt controls */
    --tilt-max: 14;      /* grados */
    --tilt-push: 14px;   /* profundidad */

    /* login background (light) */
    --login-bg-url: url('../img/interior_pasillo-login.jpg');
    --login-overlay-1: radial-gradient(1000px 600px at -10% -10%, rgba(79,141,247,0.10), rgba(79,141,247,0) 50%);
    --login-overlay-2: radial-gradient(1200px 720px at 110% 110%, rgba(67,160,71,0.12), rgba(67,160,71,0) 60%);

    /* alertas (modo claro) */
    --alert-success-bg: #E8F5E9;   /* verde muy claro */
    --alert-success-fg: #1B5E20;   /* verde muy oscuro (texto) */
    --alert-success-br: #81C784;
    --alert-danger-bg:  #FDECEA;   /* rojo muy claro */
    --alert-danger-fg:  #7F1D1D;   /* rojo oscuro (texto) */
    --alert-danger-br:  #F28B82;
    --alert-warning-bg: #FFF4E5;   /* ámbar claro */
    --alert-warning-fg: #7C2D12;   /* ámbar oscuro (texto) */
    --alert-warning-br: #FBC27B;
    --alert-info-bg:    #E3F2FD;   /* azul claro */
    --alert-info-fg:    #0D47A1;   /* azul muy oscuro (texto) */
    --alert-info-br:    #90CAF9;
}

/* Paleta modo oscuro */
.theme-dark {
    --primary: #7DD3FC;
    --primary-2: #38BDF8;
    --primary-contrast: #0B1220;
    --bg: #0B1220;
    --surface: #0F172A;
    --text: #E6EDF6;
    --muted: #97A3B6;
    --border: #223050;
    --sidebar-bg: linear-gradient(180deg, #0E172A 0%, #0B1220 100%);
    --sidebar-text: #E6EDF6;
    --sidebar-hover-bg: rgba(125,211,252,0.12);
    --navbar-bg: #0E172A;
    --bg-overlay-1: radial-gradient(1000px 500px at -10% -10%, rgba(56,189,248,0.12), rgba(56,189,248,0) 50%);
    --bg-overlay-2: radial-gradient(1200px 600px at 110% 110%, rgba(125,211,252,0.10), rgba(125,211,252,0) 60%);
    --control-bg: #0E1628;
    --control-border: #223050;
    --control-placeholder: #97A3B6;
    /* acentos (iconos en oscuro) */
    --accent: #7DD3FC;
    --accent-2: #38BDF8;
    /* neon (oscuro multicolor) */
    --neon-1: #ff00ff; /* magenta */
    --neon-2: #00ffff; /* cyan */
    --neon-3: #a3ff00; /* lima */
    --neon-glow: rgba(125,211,252,0.55);
    /* tablas */
    --table-bg: #0F172A;
    --table-border: #223050;
    --table-head: #111B2E;
    --table-head-text: #E6EDF6;
    --table-hover: rgba(125,211,252,0.08);
    --table-stripe: rgba(125,211,252,0.05);
    /* tilt controls */
    --tilt-max: 14;
    --tilt-push: 14px;

    /* alertas (modo oscuro) */
    --alert-success-bg: rgba(16,185,129,0.18);
    --alert-success-fg: #D1FAE5;
    --alert-success-br: #10B981;
    --alert-danger-bg:  rgba(239,68,68,0.22);
    --alert-danger-fg:  #FCA5A5;
    --alert-danger-br:  #EF4444;
    --alert-warning-bg: rgba(245,158,11,0.22);
    --alert-warning-fg: #FDE68A;
    --alert-warning-br: #F59E0B;
    --alert-info-bg:    rgba(59,130,246,0.22);
    --alert-info-fg:    #93C5FD;
    --alert-info-br:    #3B82F6;

    /* login background (dark) */
    --login-bg-url: url('../img/interior_pasillo-login.jpg');
    --login-overlay-1: radial-gradient(1000px 600px at -10% -10%, rgba(56,189,248,0.12), rgba(56,189,248,0) 50%);
    --login-overlay-2: radial-gradient(1200px 720px at 110% 110%, rgba(125,211,252,0.10), rgba(125,211,252,0) 60%);
}

/*** Botón de subir ***/
.back-to-top {
    position: fixed;
    display: none;
    right: 45px;
    bottom: 45px;
    z-index: 99;
    background: linear-gradient(135deg, var(--accent), var(--accent-2)) !important;
    color: var(--primary-contrast) !important;
    border: none !important;
    box-shadow: 0 10px 20px rgba(0,0,0,0.15);
    transition: filter .2s ease, box-shadow .2s ease, transform .2s ease;
}
.back-to-top:hover { filter: brightness(1.07); transform: translateY(-1px); }
.back-to-top:active { transform: translateY(0); filter: brightness(0.98); }
.back-to-top:focus-visible {
    outline: 2px solid var(--accent-2);
    outline-offset: 3px;
    box-shadow: 0 0 0 4px color-mix(in srgb, var(--accent-2) 35%, transparent);
}

/*** Spinner de carga ***/
#spinner {
    opacity: 0;
    visibility: hidden;
    transition: opacity .5s ease-out, visibility 0s linear .5s;
    z-index: 99999;
}
#spinner.show {
    transition: opacity .5s ease-out, visibility 0s linear 0s;
    visibility: visible;
    opacity: 1;
}

/*** Dropdown para desplazamiento suave ***/
.dropdown-menu {
    display: block !important;
    opacity: 0;
    transform: translateY(-10px);
    transition: opacity 0.3s ease, transform 0.3s ease;
    right: 0;
    pointer-events: none;
}
.dropdown-menu.show {
    opacity: 1;
    transform: translateY(0);
    pointer-events: auto;
}
.dropdown-menu,
.dropdown-menu .dropdown-item {
    background: var(--surface);
    color: var(--text);
}

/* Error en el input */
.input-error { border: 1px solid red; }

/*** Desplazamiento suave de alerta ***/
#errorMessage {
    z-index: 1050;
    max-width: 400px;
    pointer-events: none;
    border-radius: .5rem;
    overflow: hidden;
    box-shadow: 0 12px 30px rgba(0,0,0,0.18);
}
@keyframes slideIn {
    from { transform: translateX(100%); opacity: 0; }
    to   { transform: translateX(0);    opacity: 1; }
}
@keyframes slideOut {
    from { transform: translateX(0);    opacity: 1; }
    to   { transform: translateX(100%); opacity: 0; }
}
.slide-in  { animation: slideIn  0.5s forwards; pointer-events: auto !important; }
.slide-out { animation: slideOut 0.5s forwards; pointer-events: none !important; }

/* Alertas: asegurar contraste y que el texto no herede el color global de span */
.alert { border-width: 1px; border-style: solid; }
#errorMessage.alert-success { background-color: var(--alert-success-bg) !important; border-color: var(--alert-success-br) !important; }
#errorMessage.alert-danger  { background-color: var(--alert-danger-bg)  !important; border-color: var(--alert-danger-br)  !important; }
#errorMessage.alert-warning { background-color: var(--alert-warning-bg) !important; border-color: var(--alert-warning-br) !important; }
#errorMessage.alert-info    { background-color: var(--alert-info-bg)    !important; border-color: var(--alert-info-br)    !important; }

/* Color de texto e iconos dentro de la alerta */
#errorMessage.alert-success, #errorMessage.alert-success * { color: var(--alert-success-fg) !important; }
#errorMessage.alert-danger,  #errorMessage.alert-danger  * { color: var(--alert-danger-fg)  !important; }
#errorMessage.alert-warning, #errorMessage.alert-warning * { color: var(--alert-warning-fg) !important; }
#errorMessage.alert-info,    #errorMessage.alert-info    * { color: var(--alert-info-fg)    !important; }

/* Cerrar (soporte para botón e icono) */
#errorMessage .btn-close { opacity: .7; filter: none; }
#errorMessage .btn-close:hover { opacity: 1; }

/*** Imagen de Logotipo ***/
.image { width: 40px; height: 40px; }

/*** Icono de usuario ***/
.user-icons { font-size: 40px; }

/*** Puntero deshabilitado en check input ***/
.form-check:has(input:disabled) { cursor: not-allowed; }

/*** Button ***/
.btn { transition: .5s; }
.btn.btn-primary {
    color: var(--primary-contrast);
}
.btn-square   { width: 38px; height: 38px; }
.btn-sm-square{ width: 32px; height: 32px; }
.btn-lg-square{ width: 48px; height: 48px; }
.btn-square,
.btn-sm-square,
.btn-lg-square {
    padding: 0;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    font-weight: normal;
    border-radius: 50px;
}

/*** Layout ***/
.sidebar {
    position: fixed;
    top: 0; left: 0; bottom: 0;
    width: 250px; height: 100vh;
    overflow-y: auto;
    background: var(--sidebar-bg);
    box-shadow: 0 10px 40px rgba(0,0,0,0.35);
    border-right: 1px solid rgba(0,0,0,0.15);
    transition: 0.5s;
    z-index: 999;
}
.sidebar::before {
    content: "";
    position: absolute;
    inset: 0;
    pointer-events: none;
    background: repeating-linear-gradient(
        140deg,
        rgba(255,255,255,0.03),
        rgba(255,255,255,0.03) 8px,
        transparent 8px,
        transparent 16px
    );
    opacity: .35;
}
.content {
    margin-left: 250px;
    min-height: 100vh;
    background: var(--bg-overlay-1), var(--bg-overlay-2), var(--bg);
    transition: 0.5s;
}
@media (min-width: 992px) {
    .sidebar { margin-left: 0; }
    .sidebar.open { margin-left: -250px; }
    .content { width: calc(100% - 250px); }
    .content.open { width: 100%; margin-left: 0; }
}
@media (max-width: 991.98px) {
    .sidebar { margin-left: -250px; }
    .sidebar.open { margin-left: 0; }
    .content { width: 100%; margin-left: 0; }
}

/*** Navbar ***/
.content .navbar {
    margin: 12px 16px;
    border-radius: 14px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.25);
    border: 1px solid var(--border);
    backdrop-filter: saturate(140%) blur(6px);
}
.content .navbar .navbar-nav {
    background: linear-gradient(180deg, rgba(255,255,255,0.06), rgba(0,0,0,0.04));
    border: 1px solid var(--border);
    border-radius: 14px;
    padding: 4px 8px;
    box-shadow: inset 0 0 0 1px rgba(255,255,255,0.03), 0 8px 20px rgba(0,0,0,0.12);
}
.content .navbar .sidebar-toggler i {
    transition: transform .35s ease, color .25s ease, box-shadow .25s ease;
}
.content.open .navbar .sidebar-toggler i,
.sidebar.open ~ .content .navbar .sidebar-toggler i {
    transform: rotate(90deg);
    color: var(--accent);
}
.sidebar .navbar .navbar-nav .nav-link {
    padding: 8px 18px;
    color: var(--sidebar-text);
    font-weight: 500;
    border-left: 3px solid transparent;
    border-radius: 12px;
    margin: 4px 8px;
    transition: background .25s ease, color .25s ease, border-color .25s ease, transform .15s ease;
    outline: none;
    position: relative;
    overflow: hidden;
}
.sidebar .navbar .navbar-nav .nav-link::after {
    content: "";
    position: absolute;
    inset: 0;
    background: linear-gradient(120deg, transparent 0%, rgba(255,255,255,0.10) 20%, rgba(255,255,255,0.0) 60%);
    transform: translateX(-120%);
}
.sidebar .navbar .navbar-nav .nav-link:hover,
.sidebar .navbar .navbar-nav .nav-link.active {
    color: var(--accent);
    background: var(--sidebar-hover-bg);
    border-color: var(--accent);
    transform: translateX(2px);
}
.sidebar .navbar .navbar-nav .nav-link:hover::after {
    animation: sheen 900ms ease;
}
.sidebar .navbar .navbar-nav .nav-link i {
    width: 36px; height: 36px;
    display: inline-flex; align-items: center; justify-content: center;
    background: linear-gradient(135deg, var(--accent), var(--accent-2));
    color: var(--primary-contrast);
    border-radius: 10px;
    box-shadow: 0 6px 16px rgba(0,0,0,0.08);
    background-size: 120% 120%;
    transition: transform .18s ease, box-shadow .25s ease, background-position .35s ease;
}
.sidebar .navbar .navbar-nav .nav-link:hover i,
.sidebar .navbar .navbar-nav .nav-link.active i {
    background: var(--surface);
    color: var(--accent);
    background-position: 80% 20%;
    transform: translateX(1px) scale(1.03);
}
.sidebar .navbar .dropdown-toggle::after {
    position: absolute; top: 15px; right: 15px;
    border: none;
    content: "\f107";
    font-family: "Font Awesome 5 Free";
    font-weight: 900;
    transition: .5s;
}
.sidebar .navbar .dropdown-toggle[aria-expanded=true]::after { transform: rotate(-180deg); }
.sidebar .navbar .dropdown-item {
    padding-left: 25px;
    border-radius: 0 30px 30px 0;
}
.content .navbar .navbar-nav .nav-link {
    margin-left: 25px;
    padding: 12px 0;
    color: var(--text);
    outline: none;
}
.content .navbar .navbar-nav .nav-link:hover,
.content .navbar .navbar-nav .nav-link.active {
    color: var(--accent);
}
@keyframes sheen {
    0% { transform: translateX(-120%); }
    100%{ transform: translateX(120%); }
}
@keyframes sidebarGlow {
    0% { box-shadow: 0 10px 40px rgba(0,0,0,0.35); }
    50%{ box-shadow: 0 14px 46px rgba(0,0,0,0.45), 0 0 20px rgba(125,211,252,0.15); }
    100%{ box-shadow: 0 10px 40px rgba(0,0,0,0.35); }
}
.sidebar.toggling { animation: sidebarGlow 420ms ease; }
.content .navbar .sidebar-toggler,
.content .navbar .navbar-nav .nav-link i {
    width: 40px; height: 40px;
    display: inline-flex; align-items: center; justify-content: center;
    background: var(--surface);
    border-radius: 40px;
}
.content .navbar .dropdown-toggle::after {
    margin-left: 6px; vertical-align: middle;
    border: none;
    content: "\f107";
    font-family: "Font Awesome 5 Free";
    font-weight: 900;
    transition: .5s;
}
.content .navbar .dropdown-toggle[aria-expanded=true]::after { transform: rotate(-180deg); }
@media (max-width: 575.98px) {
    .content .navbar .navbar-nav .nav-link { margin-left: 15px; }
}

/* Navbar surface override */
.content .navbar, .bg-light { background-color: var(--navbar-bg) !important; }
/* Sidebar navbar should be transparent to show sidebar background */
.sidebar .navbar.bg-light { background-color: transparent !important; }

/* Títulos y textos globales */
body, .content, .sidebar, .navbar, .dropdown-menu, .dropdown-item {
    color: var(--text);
}

/* Tipografía y enlaces */
h1, h2, h3, h4, h5, h6,
.h1, .h2, .h3, .h4, .h5, .h6 { color: var(--text); }
p, span, small, label, .form-label, th, td { color: var(--text); }
a { color: var(--primary); text-decoration: none; }
a:hover { color: var(--primary-2); text-decoration: none; }
a:focus-visible { outline: 2px solid var(--accent); outline-offset: 2px; text-decoration: none; }

/* Borde y superficies */
.rounded, .rounded-top, .rounded-bottom, .p-4, .p-3, .card, .bg-light {
    background: var(--surface) !important;
}

/* Panel de vistas con sombra leve y borde sutil */
.content .card,
.content .bg-light {
    box-shadow: 0 12px 24px rgba(0,0,0,0.08);
    border: 1px solid var(--border);
}

/* Formularios globales */
.form-control, .form-select {
    background: var(--control-bg);
    border: 1px solid var(--control-border);
    color: var(--text);
}
.form-control:focus, .form-select:focus {
    background: var(--surface);
    border-color: rgba(67,160,71,0.45);
    box-shadow: 0 0 0 .2rem rgba(67,160,71,0.15);
    color: var(--text);
}

/* Ajustes específicos para modo claro (white mode) */
.theme-light .form-control,
.theme-light .form-select {
    background-color: #ffffff !important; /* campos y combobox blancos en claro */
    border-color: var(--border) !important;
    color: var(--text) !important;
}
.theme-light .form-control:focus,
.theme-light .form-select:focus {
    background-color: #ffffff !important;
    border-color: rgba(67,160,71,0.45) !important;
    box-shadow: 0 0 0 .2rem rgba(67,160,71,0.12) !important;
}
.theme-light .form-control:disabled,
.theme-light .form-control[readonly],
.theme-light select.form-select:disabled,
.theme-light select:disabled {
    background-color: #ffffff !important; /* evitar gris azulado en claro */
    color: color-mix(in srgb, var(--muted) 90%, #0000) !important;
    border-color: var(--border) !important;
    opacity: 1;
}
.theme-light label.form-label { background: transparent; color: var(--text); }
.form-control:disabled,
.form-control[readonly] {
    background-color: color-mix(in srgb, var(--control-bg) 95%, #0000) !important;
    color: color-mix(in srgb, var(--muted) 90%, #0000) !important;
    border-color: var(--control-border) !important;
    opacity: 1; /* mantener contraste en oscuro */
}
/* inputs concretos (precio, existencias, cdigo, lote, cantidad, ingreso) usan .form-control disabled */
input[type="date"].form-control:disabled,
input[type="number"].form-control:disabled,
input[type="text"].form-control:disabled {
    background-color: color-mix(in srgb, var(--control-bg) 95%, #0000) !important;
    color: color-mix(in srgb, var(--muted) 90%, #0000) !important;
}

/* Forzar color de combobox (todas las vistas y temas) */
select.form-select, select.form-control, select {
    background-color: var(--control-bg) !important;
    color: var(--text) !important;
    border-color: var(--control-border) !important;
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
    background-image:
        linear-gradient(45deg, transparent 50%, var(--muted) 50%),
        linear-gradient(135deg, var(--muted) 50%, transparent 50%),
        linear-gradient(to right, transparent, transparent);
    background-position:
        right 14px center,
        right 9px center,
        0 0;
    background-size:
        6px 6px,
        6px 6px,
        100% 100%;
    background-repeat: no-repeat;
    padding-right: 2.25rem;
}
/* Múltiples no llevan flecha */
select[multiple], select[size]:not([size="1"]) {
    background-image: none !important;
    padding-right: .75rem;
}
select.form-select:focus, select.form-control:focus, select:focus {
    background-color: var(--surface) !important;
    color: var(--text) !important;
    border-color: rgba(67,160,71,0.45) !important;
    box-shadow: 0 0 0 .2rem rgba(67,160,71,0.15) !important;
}
/* Estados */
select:disabled {
    opacity: 1;
    background-color: color-mix(in srgb, var(--control-bg) 92%, #0000) !important;
    color: color-mix(in srgb, var(--muted) 85%, #0000) !important;
}
/* Lista de opciones (algunos navegadores lo respetan) */
select.form-select option, select option {
    background-color: var(--surface);
    color: var(--text);
}
/* Scrollbar de menú desplegable (WebKit) */
select.form-select::-webkit-scrollbar { width: 8px; }
select.form-select::-webkit-scrollbar-thumb { background: var(--border); border-radius: 4px; }
/* Icono flecha (IE/Edge antiguos) */
select.form-select::-ms-expand { display: none; }
.form-text, .form-check-label { color: var(--muted); }
.form-check-input { border-color: var(--control-border); background: var(--surface); }
.form-check-input:checked { background-color: var(--primary); border-color: var(--primary); }

/* Modales */
.modal-content { background: var(--surface); color: var(--text); border: 1px solid var(--border); }
.modal-header, .modal-footer { border-color: var(--border); }
.btn-close { filter: invert(0); }
.theme-dark .btn-close { filter: invert(1); }

/* Tablas */
.table { color: var(--text); background: var(--table-bg); }
.table th, .table td { border-color: var(--table-border) !important; }
.table-bordered { border-color: var(--table-border) !important; }
.table thead th { background: var(--table-head); color: var(--table-head-text); }
.table-hover tbody tr:hover { background-color: var(--table-hover) !important; }
.table-striped tbody tr:nth-of-type(odd) { background-color: var(--table-stripe); }
.table .form-control { background: var(--control-bg); color: var(--text); border-color: var(--control-border); }

/* Paginación */
.page-link { color: var(--text); background: var(--surface); border-color: var(--border); }
.page-link:hover { color: var(--primary); background: var(--table-stripe); }
.page-item.active .page-link {
    color: var(--primary-contrast);
    background: linear-gradient(135deg, var(--primary), var(--primary-2));
    border-color: transparent;
}

/* Badges */
.badge { background: var(--table-head); color: var(--table-head-text); }
.badge.bg-primary {
    background: linear-gradient(135deg, var(--primary), var(--primary-2)) !important;
    color: var(--primary-contrast) !important;
}

/* Toggle tema */
.theme-toggle {
    border-color: var(--border);
    color: var(--muted);
    background: var(--surface);
    width: 36px; height: 36px;
    display: inline-flex; align-items: center; justify-content: center;
}
.theme-toggle:hover {
    color: var(--text);
    border-color: var(--muted);
}

/* Utilidades de marca */
.text-primary { color: var(--primary) !important; }
.btn-primary {
    background-image: linear-gradient(135deg, var(--primary), var(--primary-2));
    border: none;
}
.btn-primary:hover { filter: brightness(1.05); }
.btn-outline-primary { color: var(--primary); border-color: var(--primary); }
.btn-outline-primary:hover { background-color: var(--primary); color: var(--primary-contrast); }

/* ===================== */
/* Noticias de Salud UI  */
/* ===================== */
.news-section { background: var(--surface); }
.news-card {
    position: relative;
    display: block;
    border-radius: 16px;
    overflow: hidden;
    background: var(--surface);
    border: 1px solid var(--border);
    box-shadow: 0 12px 22px rgba(0,0,0,0.08);
}
.news-card::before {
    content: "";
    position: absolute;
    inset: -1px;
    border-radius: inherit;
    padding: 1px;
    background:
      linear-gradient(90deg,  transparent 0%, var(--neon-1) 20%, var(--neon-2) 50%, var(--neon-3) 80%, transparent 100%) top/200% 2px no-repeat,
      linear-gradient(180deg, transparent 0%, var(--neon-1) 20%, var(--neon-2) 50%, var(--neon-3) 80%, transparent 100%) right/2px 200% no-repeat,
      linear-gradient(270deg, transparent 0%, var(--neon-1) 20%, var(--neon-2) 50%, var(--neon-3) 80%, transparent 100%) bottom/200% 2px no-repeat,
      linear-gradient(0deg,   transparent 0%, var(--neon-1) 20%, var(--neon-2) 50%, var(--neon-3) 80%, transparent 100%) left/2px 200% no-repeat;
    -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
    -webkit-mask-composite: xor; mask-composite: exclude;
    opacity: 0;
    filter: drop-shadow(0 0 10px var(--neon-glow));
    transition: opacity .2s ease;
    will-change: background-position, opacity;
}
.news-card:hover::before {
    opacity: 1;
}

.news-thumb {
    aspect-ratio: 16/9;
    width: 100%;
    background: #000;
    overflow: hidden;
}
.news-thumb img {
    width: 100%; height: 100%;
    display: block; object-fit: cover; object-position: center;
}
.news-thumb video {
    width: 100%; height: 100%;
    display: block; object-fit: cover; object-position: center;
}
.news-content { padding: 12px 14px 14px; }
.news-title { color: var(--text); font-weight: 600; line-height: 1.24; }
.news-source, .news-meta { color: var(--muted); }

/* Scrollbars coherentes (WebKit) */
html::-webkit-scrollbar, .sidebar::-webkit-scrollbar { width: 10px; height: 10px; }
html::-webkit-scrollbar-track, .sidebar::-webkit-scrollbar-track { background: transparent; }
html::-webkit-scrollbar-thumb, .sidebar::-webkit-scrollbar-thumb {
    background: linear-gradient(180deg, var(--accent), var(--accent-2));
    border-radius: 8px;
    border: 2px solid transparent;
    background-clip: padding-box;
}
/* Scrollbars (Firefox) */
html, .sidebar {
    scrollbar-width: thin;
    scrollbar-color: var(--accent) transparent;
}

/* Remover imagen hero superior de Inicio (sección Noticias ocupa ese lugar) */
.container-fluid.pt-4.px-4 > .bg-light.text-center.rounded.p-4 > img[alt="Inicio"] {
    display: none !important;
}
/* Refuerzo para ocultar solo el hero original sin afectar tarjetas */
img[alt="Inicio"][src$="/img/home.jpg"] { display: none !important; }

/* Accesibilidad y movimiento reducido */
@media (prefers-reduced-motion: reduce) {
  .back-to-top, .btn, .sidebar .navbar .navbar-nav .nav-link, .news-card::before, .news-card .confetti {
    transition: none !important; animation: none !important;
  }
}

/* === Neon Card (drop-in) === */
:root{
  --neon-border:3px;   /* grosor del borde */
  --neon-radius:20px;  /* radios de la tarjeta */
  --neon-glow:18px;    /* intensidad del halo */
  /* velocidades */
  --neon-speed: 6s;     /* velocidad del borde principal */
  --runner-speed: 1.2s; /* velocidad del runner en hover */
}

/* Propiedad animable del ángulo */
@property --rot {
  syntax: "<angle>";
  inherits: false;
  initial-value: 0deg;
}
@keyframes neon-spin { to { --rot: 360deg; } }

.neon-card{
  position: relative;
  border-radius: var(--neon-radius);
  isolation: isolate;
  overflow: hidden; /* recorte del glow */
}
.neon-card::before{
  content:"";
  position:absolute; inset:0;
  border-radius: inherit;
  padding: var(--neon-border);
  background:
    conic-gradient(from var(--rot),
      /* Paleta neon por defecto (oscuro) */
      #00f7ff, #00ffa3, #c6ff00, #ffee00, #ff6a00, #ff00e1, #7a00ff, #00f7ff
    );
  -webkit-mask:
    linear-gradient(#000 0 0) content-box,
    linear-gradient(#000 0 0);
  -webkit-mask-composite: xor; mask-composite: exclude;
  filter:
    drop-shadow(0 0 var(--neon-glow) rgba(0,255,255,.55))
    drop-shadow(0 0 calc(var(--neon-glow)*.7) rgba(255,0,255,.45));
  animation: neon-spin var(--neon-speed, 6s) linear infinite;
  animation-play-state: var(--neon-state, running);
  z-index: 1;
}
.neon-card::after{
  content:"";
  position:absolute; inset:-10px;
  border-radius: inherit;
  background: radial-gradient(60% 60% at 50% 50%, rgba(0,255,255,.08), transparent 70%);
  z-index: 0;
  pointer-events: none;
}
/* Paleta pastel para modo claro */
.theme-light .neon-card::before{
  background:
    conic-gradient(from var(--rot),
      #d7fbff, #c9ffe9, #e7ffb8, #fff8b3, #ffd4b3, #ffd8fa, #e7dcff, #d7fbff
    );
  filter:
    drop-shadow(0 0 var(--neon-glow) rgba(130,200,255,.55))
    drop-shadow(0 0 calc(var(--neon-glow)*.7) rgba(255,255,255,.35));
}
/* Reduce motion para neon-card */
@media (prefers-reduced-motion: reduce){
  .neon-card::before{ animation: none; --rot: 60deg; }
}
/* Activación solo en hover para news-card */
.news-card.neon-card::before{ opacity: 0; animation-play-state: paused; transition: opacity .2s ease; }
.news-card.neon-card:hover::before{ opacity: 1; animation-play-state: running; }

/* === Neon hover effects: sheen + hotspot + runner === */
/* Propiedad animable secundaria para el runner */
@property --rot2 {
  syntax: "<angle>";
  inherits: false;
  initial-value: 0deg;
}
@keyframes runner-spin { to { --rot2: 360deg; } }

/* Sheen diagonal (destello rápido) */
@keyframes sheen-sweep {
  0%   { transform: rotate(45deg) translate(-140%, -50%); opacity: 0; }
  10%  { opacity: .20; }
  60%  { opacity: .25; }
  100% { transform: rotate(45deg) translate(140%, -50%); opacity: 0; }
}
.neon-card .sheen{
  position: absolute;
  top: -50%; left: -140%;
  width: 280%; height: 200%;
  transform: rotate(45deg);
  background:
    linear-gradient(90deg,
      rgba(255,255,255,0) 0%,
      rgba(255,255,255,.12) 45%,
      rgba(255,255,255,.25) 50%,
      rgba(255,255,255,.12) 55%,
      rgba(255,255,255,0) 100%
    );
  mix-blend-mode: screen;
  filter: blur(2px);
  opacity: 0;
  z-index: 4;
  pointer-events: none;
  will-change: transform, opacity;
}
.neon-card:hover .sheen{ animation: sheen-sweep 900ms cubic-bezier(.3,0,.2,1); }

/* Hotspot que sigue el cursor */
.neon-card .cursor-glow{
  position: absolute;
  inset: -20%;
  background:
    radial-gradient(180px 180px at var(--mx, 50%) var(--my, 50%),
      rgba(0,255,255,.18), rgba(255,0,255,.10) 40%, transparent 65%);
  mix-blend-mode: screen;
  opacity: .7;
  z-index: 0; /* bajo el borde (::before) */
  pointer-events: none;
  transition: opacity .2s ease;
  will-change: background-position;
}

/* Runner: segmento luminoso que recorre el contorno */
.neon-card .runner{
  position: absolute; inset: 0;
  border-radius: inherit;
  padding: var(--neon-border);
  background:
    conic-gradient(from var(--rot2),
      rgba(255,255,255,0) 0deg,
      rgba(255,255,255,0) 330deg,
      rgba(255,255,255,.95) 350deg,
      rgba(255,255,255,.98) 356deg,
      rgba(255,255,255,0) 360deg
    );
  -webkit-mask:
    linear-gradient(#000 0 0) content-box,
    linear-gradient(#000 0 0);
  -webkit-mask-composite: xor; mask-composite: exclude;
  mix-blend-mode: screen;
  filter: drop-shadow(0 0 calc(var(--neon-glow)*.9) rgba(255,255,255,.75));
  opacity: 0;
  z-index: 3;
  pointer-events: none;
  will-change: opacity;
}
.neon-card:hover .runner{ opacity: 1; animation: runner-spin var(--runner-speed, 1.2s) linear infinite; }

/* Light theme adjustments (scheme) */
@media (prefers-color-scheme: light){
  .neon-card .cursor-glow{
    background:
      radial-gradient(180px 180px at var(--mx, 50%) var(--my, 50%),
        rgba(160,210,255,.20), rgba(255,255,255,.12) 40%, transparent 65%);
  }
  .neon-card .runner{
    background:
      conic-gradient(from var(--rot2),
        rgba(255,255,255,0) 0deg,
        rgba(255,255,255,0) 330deg,
        rgba(200,230,255,.95) 350deg,
        rgba(255,255,255,.98) 356deg,
        rgba(255,255,255,0) 360deg
      );
    filter: drop-shadow(0 0 calc(var(--neon-glow)*.85) rgba(170,210,255,.75));
  }
}
/* Light theme adjustments (class scope) */
.theme-light .neon-card .cursor-glow{
  background:
    radial-gradient(180px 180px at var(--mx, 50%) var(--my, 50%),
      rgba(160,210,255,.20), rgba(255,255,255,.12) 40%, transparent 65%);
}
.theme-light .neon-card .runner{
  background:
    conic-gradient(from var(--rot2),
      rgba(255,255,255,0) 0deg,
      rgba(255,255,255,0) 330deg,
      rgba(200,230,255,.95) 350deg,
      rgba(255,255,255,.98) 356deg,
      rgba(255,255,255,0) 360deg
    );
  filter: drop-shadow(0 0 calc(var(--neon-glow)*.85) rgba(170,210,255,.75));
}

/* Reduced motion: sin animaciones y sin hotspot */
@media (prefers-reduced-motion: reduce){
  .neon-card:hover .sheen{ animation: none; }
  .neon-card .cursor-glow{ opacity: 0; }
  .neon-card .runner{ animation: none; opacity: 0; }
}

/* Utilidad para pausar borde */
.neon-paused::before{ animation-play-state: paused; }

/* Opt-out: desactivar neon/tilt por clase o atributo */
.neon-card.no-neon::before,
.neon-card.no-neon::after,
.neon-card[data-no-neon="true"]::before,
.neon-card[data-no-neon="true"]::after{ content: none; }
.neon-card.no-neon .sheen,
.neon-card.no-neon .cursor-glow,
.neon-card.no-neon .runner,
.neon-card[data-no-neon="true"] .sheen,
.neon-card[data-no-neon="true"] .cursor-glow,
.neon-card[data-no-neon="true"] .runner{ display: none !important; }
.neon-card.no-neon.tiltable,
.neon-card[data-no-neon="true"].tiltable{ transform: translateY(var(--ty)) !important; }

/* === Tilt + composición única de transform === */
.card{ --ty: 0px; transition: transform .25s ease, box-shadow .25s ease; }
.card:hover{ --ty: -2px; box-shadow: 0 18px 40px rgba(0,0,0,.45), inset 0 0 0 1px rgba(255,255,255,.06); }
/* Composición (tilt + desplazamiento + profundidad) */
.tilt-wrap{ perspective: 1000px; }
.news-section{ perspective: 1000px; }
.tiltable{
  transform-style: preserve-3d;
  --rx: 0deg; --ry: 0deg; --dz: 0px; --sc: 1;
  transform: translateY(var(--ty)) rotateX(var(--rx)) rotateY(var(--ry)) translateZ(var(--dz)) scale(var(--sc));
}
.tiltable:hover{ --dz: 12px; --sc: 1.02; }
/* Levantar también las news-card en hover si no son .card */
.news-card:hover{ --ty: -2px; }

/*** Date Picker ***/
.bootstrap-datetimepicker-widget.bottom { top: auto !important; }
.bootstrap-datetimepicker-widget .table * { border-bottom-width: 0px; }
.bootstrap-datetimepicker-widget .table th { font-weight: 500; }
.bootstrap-datetimepicker-widget.dropdown-menu { padding: 10px; border-radius: 2px; }
.bootstrap-datetimepicker-widget table td.active,
.bootstrap-datetimepicker-widget table td.active:hover {
    background: var(--primary);
}
.bootstrap-datetimepicker-widget table td.today::before {
    border-bottom-color: var(--primary);
}

/*** Testimonial ***/
.progress .progress-bar { width: 0px; transition: 2s; }

/*** Testimonial ***/
.testimonial-carousel .owl-dots {
    margin-top: 24px;
    display: flex;
    align-items: flex-end;
    justify-content: center;
}
.testimonial-carousel .owl-dot {
    position: relative;
    display: inline-block;
    margin: 0 5px;
    width: 15px; height: 15px;
    border: 5px solid var(--primary);
    border-radius: 15px;
    transition: .5s;
}
.testimonial-carousel .owl-dot.active {
    background: var(--dark);
    border-color: var(--primary);
}

/* ======================== */
/* Login page (look & feel) */
/* ======================== */
.login-page { min-height: 100vh; position: relative; background: var(--bg); }
/* Blurred hero background */
.login-page::before{
    content: "";
    position: fixed; inset: 0;
    background-image: var(--login-bg-url);
    background-size: cover; background-position: center; background-repeat: no-repeat;
    filter: blur(10px) saturate(1.05);
    transform: translate3d(var(--plx-x, 0), var(--plx-y, 0), 0) scale(1.065);
    z-index: 0;
}
/* Overlays to improve contrast */
.login-page::after{
    content: "";
    position: fixed; inset: 0;
    background: linear-gradient(180deg, rgba(0,0,0,0.12), rgba(0,0,0,0.12)), var(--login-overlay-1), var(--login-overlay-2);
    transform: translate3d(calc(var(--plx-x, 0) * 0.5), calc(var(--plx-y, 0) * 0.5), 0);
    mix-blend-mode: normal;
    z-index: 0;
}
/* Ensure login content stays above the background layers */
.login-page > * { position: relative; z-index: 1; }
.login-card {
    border: 0; border-radius: 1.1rem; overflow: hidden;
    box-shadow: 0 24px 56px rgba(0,0,0,0.22);
    background: color-mix(in srgb, var(--surface) 38%, transparent);
    backdrop-filter: saturate(1.15) blur(10px);
    -webkit-backdrop-filter: saturate(1.15) blur(10px);
    max-width: 980px; margin: 0 auto;
    animation: loginFadeUp .55s ease-out both;
}
.brand-panel {
    background: linear-gradient(145deg, color-mix(in srgb, var(--primary) 76%, #fff0), color-mix(in srgb, var(--primary-2) 82%, #fff0));
    color: #fff; position: relative; min-height: 100%;
}
.brand-panel .brand-overlay-shape {
    content: "";
    position: absolute;
    inset: auto -20% -20% auto;
    width: 240px; height: 240px;
    background: radial-gradient(closest-side, rgba(255,255,255,0.25), rgba(255,255,255,0));
    border-radius: 50%;
    pointer-events: none;
}
.brand-logo { width: 48px; height: 48px; }
.brand-title {
    font-weight: 700;
    letter-spacing: 0.2px;
    font-family: 'Lobster', 'Lucida Handwriting', cursive;
    color: var(--accent);
}
.brand-tagline { opacity: 0.95; }
.form-panel { background: color-mix(in srgb, var(--surface) 82%, transparent); color: var(--text); }
.login-page .form-control {
    border: 1px solid var(--control-border);
    border-radius: 0.75rem;
    background: var(--control-bg);
    color: var(--text);
}
.login-page .form-control:focus {
    border-color: rgba(67,160,71,0.6);
    box-shadow: 0 0 0 .25rem rgba(67,160,71,0.15);
    background: var(--surface);
    color: var(--text);
}
.login-page .btn-primary { background-image: linear-gradient(135deg, var(--primary), var(--primary-2)); border: none; box-shadow: 0 12px 24px color-mix(in srgb, var(--primary) 35%, #0000); transition: transform .18s ease, filter .18s ease, box-shadow .22s ease; }
.login-page .btn-primary:hover { filter: brightness(1.06); transform: translateY(-2px); box-shadow: 0 18px 40px color-mix(in srgb, var(--primary) 28%, #0000); }
.login-page .btn-primary:active { transform: translateY(0); }
.password-toggle { cursor: pointer; color: var(--muted); }
.login-page ::placeholder { color: var(--control-placeholder); opacity: 1; }
.login-page .form-floating > label { color: var(--muted); }
.login-page .brand-panel, .login-page .brand-title, .login-page .brand-tagline { color: var(--text); }
@media (max-width: 767.98px) { .brand-panel { padding: 2rem !important; } }
@keyframes loginFadeUp{ from{ opacity: 0; transform: translate3d(0, 16px, 0) scale(0.995); } to{ opacity: 1; transform: translate3d(0, 0, 0) scale(1); } }
@keyframes floatPulse{ 0%{ transform: translateY(0) } 50%{ transform: translateY(-4px) } 100%{ transform: translateY(0) } }
@media (prefers-reduced-motion: no-preference){ .login-card{ animation: loginFadeUp .55s ease-out both, floatPulse 8s ease-in-out 1.2s infinite; } }
@keyframes loginFadeUp{ from{ opacity: 0; transform: translate3d(0, 16px, 0) scale(0.995); } to{ opacity: 1; transform: translate3d(0, 0, 0) scale(1); } }
@keyframes floatPulse{ 0%{ transform: translateY(0) } 50%{ transform: translateY(-4px) } 100%{ transform: translateY(0) } }
